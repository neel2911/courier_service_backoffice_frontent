<section class="container-fluid pt-4">
  <form class="" [formGroup]="clientForm">
    <div class="row">
      <div class="col-12">
        <mat-form-field class="custom-form-field">
          <mat-label>Client Code</mat-label>
          <input
            matInput
            formControlName="clientCode"
            autocomplete="off"
            required
          />
          <mat-error
            *ngIf="clientForm.controls.clientCode.hasError('required')"
          >
            Enter client code
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-12">
        <mat-form-field class="custom-form-field">
          <mat-label>Client Name</mat-label>
          <input matInput formControlName="name" autocomplete="off" required />
          <mat-error *ngIf="clientForm.controls.name.hasError('required')">
            Enter client name
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-6">
        <mat-form-field class="custom-form-field">
          <mat-label>Contact Number</mat-label>
          <input
            matInput
            type="number"
            formControlName="contactNumber"
            autocomplete="off"
            required
          />
          <mat-error
            *ngIf="clientForm.controls.contactNumber.hasError('required')"
          >
            Enter Contact Number
          </mat-error>
          <mat-error
            *ngIf="clientForm.controls.contactNumber.hasError('pattern')"
          >
            Please, Enter 10 digit Mobile Number.
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-12">
        <mat-form-field class="custom-form-field">
          <mat-label>Address</mat-label>
          <textarea
            matInput
            formControlName="address"
            autocomplete="off"
            required
          ></textarea>
          <mat-error *ngIf="clientForm.controls.address.hasError('required')">
            Enter address
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-12">
        <mat-slide-toggle formControlName="status"> Status </mat-slide-toggle>
      </div>
      <div
        class="col-6"
        *ngFor="
          let emailGroup of this.clientForm.get('emailIds')['controls'];
          let i = index
        "
        [formGroup]="emailGroup"
      >
        <mat-form-field class="custom-form-field">
          <mat-label>Email Id</mat-label>
          <input
            matInput
            formControlName="emailId"
            autocomplete="off"
            required
          />
          <mat-error *ngIf="emailGroup.controls.emailId.hasError('required')">
            Enter email id
          </mat-error>
          <mat-error *ngIf="emailGroup.controls.emailId.hasError('email')">
            Enter valid email id
          </mat-error>
        </mat-form-field>
        <button
          *ngIf="this.clientForm.get('emailIds')['controls'].length > 1"
          (click)="removeEmail(i)"
        >
          Remove
        </button>
      </div>
    </div>
    <button (click)="addEmail()">Add</button>
    <mat-checkbox class="example-margin" formControlName="hasCustomRate"
      >Has Custom Rates</mat-checkbox
    >
  </form>
</section>
